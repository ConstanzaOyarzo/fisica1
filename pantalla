import tkinter as tk

ventana = tk.Tk()

# Obtener el tamaño de la pantalla
ventana.update()
ancho_pantalla = ventana.winfo_screenwidth()
alto_pantalla = ventana.winfo_screenheight()

# Calcular el ancho y alto de cada cuarto de la pantalla
ancho_cuarto = ancho_pantalla // 2
alto_cuarto = alto_pantalla // 2

# Crear los marcos para cada cuarto de la pantalla
marco_1 = tk.Frame(ventana, width=ancho_cuarto, height=alto_cuarto, bg='#E989A3')
marco_1.grid(row=0, column=0)

marco_2 = tk.Frame(ventana, width=ancho_cuarto, height=alto_cuarto, bg='blue')
marco_2.grid(row=0, column=1)

marco_3 = tk.Frame(ventana, width=ancho_cuarto, height=alto_cuarto, bg='green')
marco_3.grid(row=1, column=0)

marco_4 = tk.Frame(ventana, width=ancho_cuarto, height=alto_cuarto, bg='yellow')
marco_4.grid(row=1, column=1)

# Ubicar los marcos en la ventana
marco_1.grid(row=0, column=0, sticky="nsew")
marco_2.grid(row=0, column=1, sticky="nsew")
marco_3.grid(row=1, column=0, sticky="nsew")
marco_4.grid(row=1, column=1, sticky="nsew")



class GFG:
    def __init__(self, marco=None):
        self.marco_1 = marco

        # coordenadas iniciales
        self.x = 0
        self.y = 0

        # crear rectangulo en la esquina inferior izquierda
        self.rectangle = tk.Frame(self.marco_1, width=20, height=20, bg="green")
        self.rectangle.pack()

        # flag para indicar si se debe mover o no
        self.move_enabled = False

    def movimiento(self):
        if self.move_enabled:
            # mover figura
            self.rectangle.place(x=self.rectangle.winfo_x() + self.x, y=self.rectangle.winfo_y() + self.y)
            self.move_enabled = False
        self.marco_1.after(1, self.movimiento)

    # movmiento a la izquierda
    def izquierda(self, event):
        print(event.keysym)
        self.x = -5
        self.y = 0
        self.move_enabled = True

    # movimiento a la derecha
    def derecha(self, event):
        print(event.keysym)
        self.x = 5
        self.y = 0
        self.move_enabled = True

    # movimiento hacia arriba
    def arriba(self, event):
        print(event.keysym)
        self.x = 0
        self.y = -5
        self.move_enabled = True
    
    # movimiento hacia abajo
    def abajo(self, event):
        print(event.keysym)
        self.x = 0
        self.y = 5
        self.move_enabled = True
    
    # movimiento diagonal arriba-derecha
    def diagonal_arriba_derecha(self, event):
        print(event.keysym)
        self.x = 5
        self.y = -5
        self.move_enabled = True

    # movimiento diagonal arriba-izquierda
    def diagonal_arriba_izquierda(self, event):
        print(event.keysym)
        self.x = -5
        self.y = -5
        self.move_enabled = True

# Crear instancia de GFG dentro del marco 1
gfg = GFG(marco_1)

# Establecer la posición inicial del rectángulo en la esquina inferior izquierda
gfg.rectangle.place(x=5, y=alto_cuarto - 25)

# Controlar movimiento por teclado
ventana.bind("<KeyPress-a>", lambda e: gfg.izquierda(e))
ventana.bind("<KeyPress-d>", lambda e: gfg.derecha(e))
ventana.bind("<KeyPress-w>", lambda e: gfg.arriba(e))
ventana.bind("<KeyPress-s>", lambda e: gfg.abajo(e))
ventana.bind("<KeyPress-e>", lambda e: gfg.diagonal_arriba_derecha(e))
ventana.bind("<KeyPress-q>", lambda e: gfg.diagonal_arriba_izquierda(e))
ventana.after(0, gfg.movimiento)

ventana.mainloop()
